import json 
from urllib.parse import urlparse

EXPECTED_KEY = ['srnm', 'psswrd', 'hst', 'hstnm', 'pwd', 'psswd', 'sr']

def remove_vowels(text: str):
    text = text.lower()
    vowels = ['a','i','u','e','o']
    for v in vowels:
        text = text.replace(v,'')
    return text

def validate(text: str):
    try:
        j = json.loads(text)
        data = j.get('data')
        final_result = []
        for items in data:
            attributes = items.get('attributes')
            if attributes:
                result = {k: v for k, v in attributes.items() if remove_vowels(k) in EXPECTED_KEY}
                if result:
                    final_result.append(result)
        return final_result
    except Exception as e:
        return None

def parse_url(url, endpoint):
    urlpars = urlparse(url)
    return f'{urlpars.scheme}://{urlpars.netloc}/{endpoint}'
